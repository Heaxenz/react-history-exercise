{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { Component, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport \"./JokeList.css\";\n\n/** List of jokes. */\n\nconst JokeListt = (numJokesToGet = 5) => {\n  _s();\n  const [jokes, setJokes] = useState({\n    jokes: null\n  });\n  const [loading, setLoading] = useState(true);\n  const [seenJokes, setSeenJokes] = useState(null);\n\n  /* retrieve jokes from API */\n  useEffect(() => {\n    async function getJokes() {\n      while (jokes.length = numJokesToGet) {\n        let res = await axios.get('https://icanhazdadjoke.com', {\n          header: {\n            Accept: 'application/json'\n          }\n        });\n        console.log(res);\n        setJokes({\n          jokes: res\n        });\n      }\n    }\n    getJokes();\n    console.log(jokes);\n  }, []);\n  console.log(jokes);\n};\n//   async getJokes() {\n//     try {\n//       // load jokes one at a time, adding not-yet-seen jokes\n//       let jokes = [];\n//       let seenJokes = new Set();\n\n//       while (jokes.length < this.props.numJokesToGet) {\n//         let res = await axios.get(\"https://icanhazdadjoke.com\", {\n//           headers: { Accept: \"application/json\" }\n//         });\n//         let { ...joke } = res.data;\n\n//         if (!seenJokes.has(joke.id)) {\n//           seenJokes.add(joke.id);\n//           jokes.push({ ...joke, votes: 0 });\n//         } else {\n//           console.log(\"duplicate found!\");\n//         }\n//       }\n\n//       this.setState({ jokes, isLoading: false });\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   }\n\n//   /* empty joke list, set to loading state, and then call getJokes */\n\n//   generateNewJokes() {\n//     this.setState({ isLoading: true});\n//     this.getJokes();\n//   }\n\n//   /* change vote for this id by delta (+1 or -1) */\n\n//   vote(id, delta) {\n//     this.setState(st => ({\n//       jokes: st.jokes.map(j =>\n//         j.id === id ? { ...j, votes: j.votes + delta } : j\n//       )\n//     }));\n//   }\n\n//   /* render: either loading spinner or list of sorted jokes. */\n\n//   render() {\n//     let sortedJokes = [...this.state.jokes].sort((a, b) => b.votes - a.votes);\n//     if (this.state.isLoading) {\n//       return (\n//         <div className=\"loading\">\n//           <i className=\"fas fa-4x fa-spinner fa-spin\" />\n//         </div>\n//       )\n//     }\n\n//     return (\n//       <div className=\"JokeList\">\n//         <button\n//           className=\"JokeList-getmore\"\n//           onClick={this.generateNewJokes}\n//         >\n//           Get New Jokes\n//         </button>\n\n//         {sortedJokes.map(j => (\n//           <Joke\n//             text={j.joke}\n//             key={j.id}\n//             id={j.id}\n//             votes={j.votes}\n//             vote={this.vote}\n//           />\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n_s(JokeListt, \"p6xlXfEcRXwj2XnvoaDZnl6SW5E=\");\n_c = JokeListt;\nexport default JokeListt;\nvar _c;\n$RefreshReg$(_c, \"JokeListt\");","map":{"version":3,"names":["React","Component","useEffect","useState","axios","Joke","JokeListt","numJokesToGet","_s","jokes","setJokes","loading","setLoading","seenJokes","setSeenJokes","getJokes","length","res","get","header","Accept","console","log","_c","$RefreshReg$"],"sources":["/Users/heaxenz/School/section-28/react-history-exercise/src/JokeListt.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport \"./JokeList.css\";\n\n\n/** List of jokes. */\n\nconst JokeListt = (numJokesToGet = 5) => {\n    const [jokes, setJokes] = useState({\n        jokes: null\n    })\n    const [loading, setLoading] = useState(true)\n    const [seenJokes, setSeenJokes] = useState(null)\n\n\n    \n    /* retrieve jokes from API */\n    useEffect(() => {\n        async function getJokes() {\n            while (jokes.length = numJokesToGet) {\n                let res = await axios.get('https://icanhazdadjoke.com', {\n                    header: { Accept: 'application/json' }\n                });\n                console.log(res)\n                setJokes({jokes: res})\n                \n                \n            }\n        }\n        getJokes();\n        console.log(jokes)\n    }, [])\n    console.log(jokes)\n    \n}\n//   async getJokes() {\n//     try {\n//       // load jokes one at a time, adding not-yet-seen jokes\n//       let jokes = [];\n//       let seenJokes = new Set();\n\n//       while (jokes.length < this.props.numJokesToGet) {\n//         let res = await axios.get(\"https://icanhazdadjoke.com\", {\n//           headers: { Accept: \"application/json\" }\n//         });\n//         let { ...joke } = res.data;\n\n//         if (!seenJokes.has(joke.id)) {\n//           seenJokes.add(joke.id);\n//           jokes.push({ ...joke, votes: 0 });\n//         } else {\n//           console.log(\"duplicate found!\");\n//         }\n//       }\n\n//       this.setState({ jokes, isLoading: false });\n//     } catch (err) {\n//       console.error(err);\n//     }\n//   }\n\n//   /* empty joke list, set to loading state, and then call getJokes */\n\n//   generateNewJokes() {\n//     this.setState({ isLoading: true});\n//     this.getJokes();\n//   }\n\n//   /* change vote for this id by delta (+1 or -1) */\n\n//   vote(id, delta) {\n//     this.setState(st => ({\n//       jokes: st.jokes.map(j =>\n//         j.id === id ? { ...j, votes: j.votes + delta } : j\n//       )\n//     }));\n//   }\n\n//   /* render: either loading spinner or list of sorted jokes. */\n\n//   render() {\n//     let sortedJokes = [...this.state.jokes].sort((a, b) => b.votes - a.votes);\n//     if (this.state.isLoading) {\n//       return (\n//         <div className=\"loading\">\n//           <i className=\"fas fa-4x fa-spinner fa-spin\" />\n//         </div>\n//       )\n//     }\n\n//     return (\n//       <div className=\"JokeList\">\n//         <button\n//           className=\"JokeList-getmore\"\n//           onClick={this.generateNewJokes}\n//         >\n//           Get New Jokes\n//         </button>\n\n//         {sortedJokes.map(j => (\n//           <Joke\n//             text={j.joke}\n//             key={j.id}\n//             id={j.id}\n//             votes={j.votes}\n//             vote={this.vote}\n//           />\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n\nexport default JokeListt;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC7D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAO,gBAAgB;;AAGvB;;AAEA,MAAMC,SAAS,GAAGA,CAACC,aAAa,GAAG,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC;IAC/BM,KAAK,EAAE;EACX,CAAC,CAAC;EACF,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;;EAIhD;EACAD,SAAS,CAAC,MAAM;IACZ,eAAea,QAAQA,CAAA,EAAG;MACtB,OAAON,KAAK,CAACO,MAAM,GAAGT,aAAa,EAAE;QACjC,IAAIU,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,4BAA4B,EAAE;UACpDC,MAAM,EAAE;YAAEC,MAAM,EAAE;UAAmB;QACzC,CAAC,CAAC;QACFC,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;QAChBP,QAAQ,CAAC;UAACD,KAAK,EAAEQ;QAAG,CAAC,CAAC;MAG1B;IACJ;IACAF,QAAQ,CAAC,CAAC;IACVM,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EACNY,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;AAEtB,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAD,EAAA,CAxGMF,SAAS;AAAAiB,EAAA,GAATjB,SAAS;AA0Gf,eAAeA,SAAS;AAAC,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}