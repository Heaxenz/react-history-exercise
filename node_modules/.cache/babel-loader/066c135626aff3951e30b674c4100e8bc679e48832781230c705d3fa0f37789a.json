{"ast":null,"code":"var _jsxFileName = \"/Users/heaxenz/School/section-28/react-history-exercise/src/JokeListt.js\",\n  _s = $RefreshSig$();\nimport React, { Component, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport \"./JokeList.css\";\n\n/** List of jokes. */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JokeListt = ({\n  numJokesToGet = 5\n}) => {\n  _s();\n  const [jokes, setJokes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  /* retrieve jokes from API */\n  useEffect(() => {\n    async function getJokes() {\n      let jok = [...jokes];\n      let seenJokes = new Set();\n      while (jok.length < numJokesToGet) {\n        let res = await axios.get('https://icanhazdadjoke.com', {\n          headers: {\n            Accept: 'application/json'\n          }\n        });\n        let {\n          ...jokeobj\n        } = res.data;\n        if (!seenJokes.has(jokeobj.id)) {\n          seenJokes.add(jokeobj.id);\n          jok.push({\n            jokeobj,\n            votes: 0\n          });\n        } else {\n          console.error('DUPLICATE FOUND!!');\n        }\n      }\n      setJokes(jok);\n      setIsLoading(false);\n      console.log(seenJokes);\n    }\n    if (jokes.length === 0) getJokes();\n  }, []);\n  console.log(jokes);\n  const generateNewJokes = () => {\n    setIsLoading(true);\n    setJokes([]);\n  };\n  const vote = (id, delta) => {\n    setJokes(jokes => jokes.map(j => j.id === id ? {\n      ...j,\n      votes: j.votes + delta\n    } : j));\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-4x fa-spinner fa-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n  let sortedJokes = [...jokes].sort((a, b) => b.votes - a.votes);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"JokeList\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"JokeList-getmore\",\n      onClick: generateNewJokes,\n      children: \"Get New Jokes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), sortedJokes.map(j => /*#__PURE__*/_jsxDEV(Joke, {\n      text: j.joke,\n      id: j.id,\n      votes: j.votes,\n      vote: vote\n    }, j.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 15\n  }, this);\n};\n\n//     return (\n//       <div className=\"JokeList\">\n//         <button\n//           className=\"JokeList-getmore\"\n//           onClick={this.generateNewJokes}\n//         >\n//           Get New Jokes\n//         </button>\n\n//         {sortedJokes.map(j => (\n//           <Joke\n//             text={j.joke}\n//             key={j.id}\n//             id={j.id}\n//             votes={j.votes}\n//             vote={this.vote}\n//           />\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n_s(JokeListt, \"+iu6xHPOscTV/FNdMPqy/q1M2A4=\");\n_c = JokeListt;\nexport default JokeListt;\nvar _c;\n$RefreshReg$(_c, \"JokeListt\");","map":{"version":3,"names":["React","Component","useEffect","useState","axios","Joke","jsxDEV","_jsxDEV","JokeListt","numJokesToGet","_s","jokes","setJokes","isLoading","setIsLoading","getJokes","jok","seenJokes","Set","length","res","get","headers","Accept","jokeobj","data","has","id","add","push","votes","console","error","log","generateNewJokes","vote","delta","map","j","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sortedJokes","sort","a","b","onClick","text","joke","_c","$RefreshReg$"],"sources":["/Users/heaxenz/School/section-28/react-history-exercise/src/JokeListt.js"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport \"./JokeList.css\";\n\n\n/** List of jokes. */\n\nconst JokeListt = ({ numJokesToGet = 5 }) => {\n    const [jokes, setJokes] = useState([])\n    const [isLoading, setIsLoading] = useState(true)\n\n\n    /* retrieve jokes from API */\n    useEffect(() => {\n        async function getJokes() {\n            let jok = [...jokes];\n            let seenJokes = new Set();\n            while (jok.length < numJokesToGet) {\n                let res = await axios.get('https://icanhazdadjoke.com', {\n                    headers: { Accept: 'application/json' }\n                });\n                let { ...jokeobj } = res.data\n                if (!seenJokes.has(jokeobj.id)) {\n                    seenJokes.add(jokeobj.id);\n                    jok.push({ jokeobj, votes: 0 })\n                } else {\n                    console.error('DUPLICATE FOUND!!')\n                }\n            }\n            setJokes(jok);\n            setIsLoading(false);\n            console.log(seenJokes)\n        }\n        if(jokes.length === 0) getJokes();\n    }, [])\n    console.log(jokes)\n\n\n    const generateNewJokes = () =>{\n        setIsLoading(true);\n        setJokes([]);\n\n    }\n\n    const vote = (id, delta) => {\n        setJokes(jokes => jokes.map(j => (j.id === id ? { ...j, votes: j.votes + delta}: j)))\n    }\n    \n    if(isLoading){\n        return (\n            <div className=\"loading\">\n                <i className=\"fas fa-4x fa-spinner fa-spin\" />\n            </div>\n        )\n    }\n    let sortedJokes = [...jokes].sort((a,b) => b.votes - a.votes)\n\n    return (\n              <div className=\"JokeList\">\n                <button\n                  className=\"JokeList-getmore\"\n                  onClick={generateNewJokes}\n                >\n                  Get New Jokes\n                </button>\n        \n                {sortedJokes.map(j => (\n                  <Joke\n                    text={j.joke}\n                    key={j.id}\n                    id={j.id}\n                    votes={j.votes}\n                    vote={vote}\n                  />\n                ))}\n              </div>\n            );\n\n\n}\n\n\n//     return (\n//       <div className=\"JokeList\">\n//         <button\n//           className=\"JokeList-getmore\"\n//           onClick={this.generateNewJokes}\n//         >\n//           Get New Jokes\n//         </button>\n\n//         {sortedJokes.map(j => (\n//           <Joke\n//             text={j.joke}\n//             key={j.id}\n//             id={j.id}\n//             votes={j.votes}\n//             vote={this.vote}\n//           />\n//         ))}\n//       </div>\n//     );\n//   }\n// }\n\nexport default JokeListt;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}